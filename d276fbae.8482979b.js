(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{137:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return i})),t.d(a,"metadata",(function(){return s})),t.d(a,"toc",(function(){return c})),t.d(a,"default",(function(){return l}));var o=t(3),r=t(7),n=(t(0),t(162)),i={id:"cdhs",title:"CDHS - Command Data Handling System",sidebar_label:"CDHS"},s={unversionedId:"aurorav2/hardware/placas/cdhs",id:"aurorav2/hardware/placas/cdhs",isDocsHomePage:!1,title:"CDHS - Command Data Handling System",description:"Objetivo",source:"@site/docs/aurorav2/hardware/placas/cdhs.md",slug:"/aurorav2/hardware/placas/cdhs",permalink:"/avionicsdocumentation/docs/aurorav2/hardware/placas/cdhs",editUrl:"https://github.com/gabrielaleks/avionicsdocumentation/edit/master/my-website/docs/aurorav2/hardware/placas/cdhs.md",version:"current",sidebar_label:"CDHS",sidebar:"Docs",previous:{title:"EPS - Electrical Power System",permalink:"/avionicsdocumentation/docs/aurorav2/hardware/placas/eps"},next:{title:"REC / RECB",permalink:"/avionicsdocumentation/docs/aurorav2/hardware/placas/rec"}},c=[{value:"Objetivo",id:"objetivo",children:[]},{value:"Componentes",id:"componentes",children:[]},{value:"Esquem\xe1tico e PCB",id:"esquem\xe1tico-e-pcb",children:[{value:"Vers\xe3o do Prot\xf3tipo",id:"vers\xe3o-do-prot\xf3tipo",children:[]},{value:"Vers\xe3o atual",id:"vers\xe3o-atual",children:[]}]},{value:"Testes no prot\xf3tipo",id:"testes-no-prot\xf3tipo",children:[{value:"Componentes soldados",id:"componentes-soldados",children:[]},{value:"Continuidade",id:"continuidade",children:[]}]}],d={toc:c};function l(e){var a=e.components,i=Object(r.a)(e,["components"]);return Object(n.b)("wrapper",Object(o.a)({},d,i,{components:a,mdxType:"MDXLayout"}),Object(n.b)("h2",{id:"objetivo"},"Objetivo"),Object(n.b)("p",null,"A fun\xe7\xe3o desta placa \xe9 (1) realizar toda a aquisi\xe7\xe3o e processamento de dados, (2) salv\xe1-los em um cart\xe3o microSD e (3) envi\xe1-los para nossa esta\xe7\xe3o em terra. A primeira atividade \xe9 fundamental porque s\xe3o os dados adquiridos pelos sensores que permitem \xe0 avi\xf4nica reconhecer sua posi\xe7\xe3o no espa\xe7o, detectar o momento de apogeu e ativar o sistema de recupera\xe7\xe3o do foguete. J\xe1 no solo, s\xe3o os dados fornecidos pelo GPS e enviados para a equipe de opera\xe7\xf5es que possibilita que o foguete seja encontrado."),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"\xc9 utilizado um Inertial Measurement Unit (IMU), modelo GY-91, para a obten\xe7\xe3o de uma grande gama de dados. O GY-91 cont\xe9m dois sensores: o BMP280, que atua como bar\xf4metro; e o MPU-9250, um sensor que \xe9 simultaneamente um aceler\xf4metro, girosc\xf3pio e magnet\xf4metro - todos em 3 dimens\xf5es. Portanto, o GY-91 \xe9 um dispositivo que possui 10DOF (degrees of freedom). Adquirem-se tamb\xe9m dados de press\xe3o com outro sensor, o BMP388. Sua fun\xe7\xe3o no circuito \xe9 puramente experimental - seus dados ser\xe3o comparados posteriormente aos obtidos pelo BMP280. ")),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"Para que os dados sejam armazenados em tempo real durante o v\xf4o \xe9 utilizado um breakout de microSD da SparkFun.")),Object(n.b)("li",{parentName:"ol"},Object(n.b)("p",{parentName:"li"},"A transmiss\xe3o dos dados obtidos em (a) \xe9 feito pelo m\xf3dulo LoRa RFM95W associado a uma antena omnidirecional. Em terra, nossa antena direcional estar\xe1 recebendo continuamente esses dados. Outro dispositivo cujo prop\xf3sito \xe9 o envio de informa\xe7\xf5es \xe9 o MTK3339 GPS Module, o GPS (Global Position System) utilizado para fornecer a posi\xe7\xe3o do foguete e assim permitir que o time de opera\xe7\xf5es o encontre depois que ele tenha pousado."))),Object(n.b)("p",null,"Todo o processamento dos dados obtidos e a tomada de decis\xf5es \xe9 feita pelo microcontrolador Teensy 3.5. Este microcontrolador foi escolhido por conta de seu grande poder de processamento. A placa conta tamb\xe9m com LEDs de debugging e um buzzer, respons\xe1vel pelo feedback auditivo necess\xe1rio no momento da recupera\xe7\xe3o do foguete em solo."),Object(n.b)("h2",{id:"componentes"},"Componentes"),Object(n.b)("p",null,"Os componentes da placa s\xe3o:"),Object(n.b)("table",null,Object(n.b)("thead",{parentName:"table"},Object(n.b)("tr",{parentName:"thead"},Object(n.b)("th",{parentName:"tr",align:null},"Componente"),Object(n.b)("th",{parentName:"tr",align:null},"Qtd"),Object(n.b)("th",{parentName:"tr",align:null},"Obs"))),Object(n.b)("tbody",{parentName:"table"},Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"40 pins flat connector"),Object(n.b)("td",{parentName:"tr",align:null},"1"),Object(n.b)("td",{parentName:"tr",align:null},"Conector do barramento")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Teensy 3.5"),Object(n.b)("td",{parentName:"tr",align:null},"1"),Object(n.b)("td",{parentName:"tr",align:null},"-")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"GY-91"),Object(n.b)("td",{parentName:"tr",align:null},"1"),Object(n.b)("td",{parentName:"tr",align:null},"-")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"BMP388"),Object(n.b)("td",{parentName:"tr",align:null},"1"),Object(n.b)("td",{parentName:"tr",align:null},"-")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"GPS MTK3339"),Object(n.b)("td",{parentName:"tr",align:null},"1"),Object(n.b)("td",{parentName:"tr",align:null},"-")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"LoRa RFM95W"),Object(n.b)("td",{parentName:"tr",align:null},"1"),Object(n.b)("td",{parentName:"tr",align:null},"-")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"MicroSD Adapter"),Object(n.b)("td",{parentName:"tr",align:null},"1"),Object(n.b)("td",{parentName:"tr",align:null},"-")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"LED"),Object(n.b)("td",{parentName:"tr",align:null},"4"),Object(n.b)("td",{parentName:"tr",align:null},"3x Debugging, 1x GPS")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Buzzer"),Object(n.b)("td",{parentName:"tr",align:null},"1"),Object(n.b)("td",{parentName:"tr",align:null},"Debugging")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Resistor"),Object(n.b)("td",{parentName:"tr",align:null},"7"),Object(n.b)("td",{parentName:"tr",align:null},"2x 4.7k\u03a9, 1x 72\u03a9, 3x 220\u03a9, 1x47\u03a9")),Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",{parentName:"tr",align:null},"Capacitor"),Object(n.b)("td",{parentName:"tr",align:null},"3"),Object(n.b)("td",{parentName:"tr",align:null},"1x 47uF, 1x 10nF, 1x 0.1uF")))),Object(n.b)("h2",{id:"esquem\xe1tico-e-pcb"},"Esquem\xe1tico e PCB"),Object(n.b)("h3",{id:"vers\xe3o-do-prot\xf3tipo"},"Vers\xe3o do Prot\xf3tipo"),Object(n.b)("p",null,Object(n.b)("img",{alt:"img",src:t(298).default}),"\n",Object(n.b)("img",{alt:"img",src:t(299).default})),Object(n.b)("h3",{id:"vers\xe3o-atual"},"Vers\xe3o atual"),Object(n.b)("p",null,Object(n.b)("img",{alt:"img",src:t(300).default}),"\n",Object(n.b)("img",{alt:"img",src:t(301).default})),Object(n.b)("h2",{id:"testes-no-prot\xf3tipo"},"Testes no prot\xf3tipo"),Object(n.b)("h3",{id:"componentes-soldados"},"Componentes soldados"),Object(n.b)("p",null,"Para validar o CDHS antes de mandar fabricar, n\xf3s utilizamos a fresa do laborat\xf3rio para fabricar um prot\xf3tipo. Por limita\xe7\xf5es dos tamanhos de placas que t\xednhamos e da fresadora, esse prot\xf3tipo tem dimens\xf5es 87x87. Abaixo est\xe3o imagens da placa ap\xf3s todos os componentes terem sido soldados."),Object(n.b)("h4",{id:"frente"},"Frente"),Object(n.b)("p",null,Object(n.b)("img",{alt:"img",src:t(302).default})),Object(n.b)("h4",{id:"tr\xe1s"},"Tr\xe1s"),Object(n.b)("p",null,Object(n.b)("img",{alt:"img",src:t(303).default})),Object(n.b)("h3",{id:"continuidade"},"Continuidade"),Object(n.b)("p",null,"Testamos a continuidade das linhas de pot\xeancia que alimentam o teensy e os sensores. Todas elas chegam corretamente Tamb\xe9m testamos a comunica\xe7\xe3o dos planos de ground. Como s\xe3o muitos grounds diferentes e corremos o risco de esquecer algum nesse teste, uma boa estrat\xe9gia \xe9 apertar ctrl+shift e selecionar algum pino de ground na Board no Altium. Dessa maneira, todos os grounds ficar\xe3o destacados e podemos chec\xe1-los um a um. Nenhum problema foi encontrado nos planos de ground. Al\xe9m disso, foi testada a continuidade para os pinos de sinal. Todos eles est\xe3o corretos. "),Object(n.b)("div",{className:"admonition admonition-important alert alert--info"},Object(n.b)("div",{parentName:"div",className:"admonition-heading"},Object(n.b)("h5",{parentName:"div"},Object(n.b)("span",{parentName:"h5",className:"admonition-icon"},Object(n.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(n.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Jumpers")),Object(n.b)("div",{parentName:"div",className:"admonition-content"},Object(n.b)("p",{parentName:"div"},'Percebemos que a trilha do pino D32 estava chegando no teensy pela layer de cima, enquanto que a solda foi feita na layer de baixo. Um jumper foi soldado na placa de forma a corrigir esse erro e uma via foi colocada no Altium. Al\xe9m disso, quando fizemos o teste de integra\xe7\xe3o percebemos que o pino D32 n\xe3o era apropriado para o clock - deveria ter sido escolhido o D13 no lugar. Dois jumpers foram colocados na placa, trocando o D32 com o D13. Por fim, foi retirado da placa um par de resistores na linha I2C, pois apenas um era necess\xe1rio.\nOutro jumper foi colocado para corrigir a alimenta\xe7\xe3o do GY-91, que havia sido feita no pino "Vin" mas devia ter sido feita no pino "3v3". Todas essas modifica\xe7\xf5es tamb\xe9m j\xe1 foram feitas no Altium da placa.'))))}l.isMDXComponent=!0},162:function(e,a,t){"use strict";t.d(a,"a",(function(){return m})),t.d(a,"b",(function(){return u}));var o=t(0),r=t.n(o);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function c(e,a){if(null==e)return{};var t,o,r=function(e,a){if(null==e)return{};var t,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)t=n[o],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)t=n[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var d=r.a.createContext({}),l=function(e){var a=r.a.useContext(d),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},m=function(e){var a=l(e.components);return r.a.createElement(d.Provider,{value:a},e.children)},b={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},p=r.a.forwardRef((function(e,a){var t=e.components,o=e.mdxType,n=e.originalType,i=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),m=l(t),p=o,u=m["".concat(i,".").concat(p)]||m[p]||b[p]||n;return t?r.a.createElement(u,s(s({ref:a},d),{},{components:t})):r.a.createElement(u,s({ref:a},d))}));function u(e,a){var t=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var n=t.length,i=new Array(n);i[0]=p;var s={};for(var c in a)hasOwnProperty.call(a,c)&&(s[c]=a[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var d=2;d<n;d++)i[d]=t[d];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},298:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/cdhs_protschem-d24feb10fe0bfc9824827e201e45a453.jpg"},299:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/cdhs_protpcb-06b3ae21696a471dc7b3f38ed37abe09.png"},300:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/cdhs_atualschem-291eeec073a74e27f0d99b0058bf2a9c.jpg"},301:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/cdhs_atualpcb-35406171cb5d7c5edf4cba2802cd1f24.png"},302:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/cdhs_protfront-906c2d586c38c39e73e53f1b3627f228.jpeg"},303:function(e,a,t){"use strict";t.r(a),a.default=t.p+"assets/images/cdhs_protback-6f7a521baf740439a71d638b87adb14a.jpeg"}}]);